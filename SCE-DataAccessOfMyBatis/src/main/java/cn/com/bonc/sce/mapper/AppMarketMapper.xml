<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.com.bonc.sce.mapper.AppMarketMapper">

    <select id="selectAppCount" resultType="Map">
        select t.app_type_name,count(tr.app_type_id) as num from STARCLOUDMARKET.SCE_MARKET_APP_TYPE t
        left join STARCLOUDMARKET.SCE_MARKET_APP_APPTYPE_REL tr
        on t.app_type_id = tr.app_type_id
        where t.is_delete = 1
        group by t.app_type_name,tr.app_type_id
    </select>

    <select id="selectUserToDo" resultType="Map">
        select b.content,
        b.create_user_id,
        b.create_time,
        b.update_time,
        b.status,
        b.remarks,
        p.pending_item_name,
        t.todo_type from sce_pending_items p
        inner join sce_backlog b
        on b.id = p.pending_item_id and  b.is_delete = 1
        inner join sce_todo_type t
        on p.pending_item_type = t.id
        where b.is_delete = 1 and b.operate_user_id = #{userId}
    </select>

</mapper>